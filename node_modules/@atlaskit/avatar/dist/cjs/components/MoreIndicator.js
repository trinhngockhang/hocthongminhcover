'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _MoreIndicator = require('../styled/MoreIndicator');

var _hoc = require('../hoc');

var _helpers = require('../helpers');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-disable react/no-unused-prop-types, react/prop-types, react/sort-comp */

var MAX_DISPLAY_COUNT = 99;

var MoreIndicator = function (_Component) {
  (0, _inherits3.default)(MoreIndicator, _Component);

  function MoreIndicator() {
    (0, _classCallCheck3.default)(this, MoreIndicator);
    return (0, _possibleConstructorReturn3.default)(this, (MoreIndicator.__proto__ || (0, _getPrototypeOf2.default)(MoreIndicator)).apply(this, arguments));
  }

  (0, _createClass3.default)(MoreIndicator, [{
    key: 'render',
    value: function render() {
      var count = this.props.count;

      var outerProps = (0, _helpers.getProps)(this);
      var _props = this.props,
          appearance = _props.appearance,
          isActive = _props.isActive,
          isFocus = _props.isFocus,
          isHover = _props.isHover,
          size = _props.size;


      var innerProps = { appearance: appearance, isActive: isActive, isFocus: isFocus, isHover: isHover, size: size };
      var displayCount = count > MAX_DISPLAY_COUNT ? MAX_DISPLAY_COUNT : count;

      return _react2.default.createElement(
        _MoreIndicator.Outer,
        (0, _extends3.default)({}, outerProps, { isInteractive: true }),
        _react2.default.createElement(
          _MoreIndicator.Inner,
          innerProps,
          '+',
          displayCount
        )
      );
    }
  }]);
  return MoreIndicator;
}(_react.Component);

MoreIndicator.defaultProps = {
  appearance: 'circle'
};
exports.default = (0, _hoc.withPseudoState)(MoreIndicator);